#!/bin/bash

# Define log file
LOGFILE="/path/to/your/logfile.log"

# Function to catch the SIGTERM signal (when you close the session)
term_handler() {
  echo "Session closed at $(date)" >> "$LOGFILE"
}

# Function to catch the script exit
exit_handler() {
  echo "Script finished at $(date)" >> "$LOGFILE"
}

# Trap SIGTERM signal (when session closes) and EXIT (script ends)
trap 'term_handler' SIGTERM
trap 'exit_handler' EXIT

# Log start time
echo "Script started at $(date)" >> "$LOGFILE"

# Example loop to show script is running
while true
do
  echo "Script is still running at $(date)" >> "$LOGFILE"
  sleep 60
done